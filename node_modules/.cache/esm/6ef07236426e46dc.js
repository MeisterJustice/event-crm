let storage,multer,isLoggedIn,isEventOwner,getEvent,getCreateEvent,postEvent,postTicket,showEvent,getEdit,putEvent,deleteEvent,getTicketPage,purchaseTicket,ticketCallback,errorHandler;_426‍.x([["default",()=>_426‍.o]]);_426‍.w("../cloudinary",[["storage",["storage"],function(v){storage=v}]]);_426‍.w("multer",[["default",["multer"],function(v){multer=v}]]);_426‍.w("../validation/index",[["isLoggedIn",["isLoggedIn"],function(v){isLoggedIn=v}],["isEventOwner",["isEventOwner"],function(v){isEventOwner=v}]]);_426‍.w("../controllers/event",[["getEvent",["getEvent"],function(v){getEvent=v}],["getCreateEvent",["getCreateEvent"],function(v){getCreateEvent=v}],["postEvent",["postEvent"],function(v){postEvent=v}],["postTicket",["postTicket"],function(v){postTicket=v}],["showEvent",["showEvent"],function(v){showEvent=v}],["getEdit",["getEdit"],function(v){getEdit=v}],["putEvent",["putEvent"],function(v){putEvent=v}],["deleteEvent",["deleteEvent"],function(v){deleteEvent=v}],["getTicketPage",["getTicketPage"],function(v){getTicketPage=v}],["purchaseTicket",["purchaseTicket"],function(v){purchaseTicket=v}],["ticketCallback",["ticketCallback"],function(v){ticketCallback=v}]]);_426‍.w("../middleware",[["errorHandler",["errorHandler"],function(v){errorHandler=v}]]);const express = require('express');
const router = express.Router({mergeParams: true});


const upload = multer({ storage });







router.get('/', errorHandler(getEvent));

router.get('/new', isLoggedIn, errorHandler(getCreateEvent));

router.post('/', isLoggedIn, upload.array('images', 9),  errorHandler(postEvent));

router.get('/:id', errorHandler(showEvent));

router.get('/:id/edit', isEventOwner, errorHandler(getEdit));

router.put('/:id', isEventOwner, errorHandler(putEvent));

router.delete('/:id', errorHandler(deleteEvent));

router.post('/:id/ticket', isLoggedIn, isEventOwner, errorHandler(postTicket));

router.get('/:id/ticket/:ticket_id', errorHandler(getTicketPage));

router.post('/:id/ticket/:ticket_id', errorHandler(purchaseTicket));

router.get('/paystack/callback', ticketCallback);

_426‍.d(router);
