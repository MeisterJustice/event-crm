let Event,EventComment;_a90‍.x([["eventComment",()=>eventComment],["deleteEvent",()=>deleteEvent]]);_a90‍.w("../models/event",[["default",["Event"],function(v){Event=v}]]);_a90‍.w("../models/event-comment",[["default",["EventComment"],function(v){EventComment=v}]]);


       const eventComment = async(req, res, next) => {
  let event = await Event.findById(req.params.id);
  let comment = await EventComment.create(req.body);
  await comment.save();
  await event.comments.push(comment);
  await event.save();
  console.log(`new comment: ${comment.description}`);
  res.redirect(`/event/${event.id}`);
}

       const deleteEvent = async(req, res, next) => {
  let event = await Event.findById(req.params.id);
  await EventComment.findByIdAndRemove(req.params.event_comment);
  res.redirect(`/event/${event.id}`);
}